{"ast":null,"code":"var _jsxFileName = \"/Users/mauriziocapone/Desktop/NftMarketplace/nft-market-app/src/NftList.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport Collectible from '../src/abis/Collectible.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NftList extends Component {\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3;\n    const networkId = await web3.eth.net.getId(); // Load Collectible\n\n    const erc721 = Collectible.networks[networkId];\n\n    if (erc721) {\n      const collectible = new web3.eth.Contract(Collectible.abi, erc721.address);\n      let URI = await collectible.methods.tokenURI(1).call();\n      const response = await fetch(URI);\n      if (!response.ok) throw new Error(response.statusText);\n      const json = await response.json();\n      this.setState({\n        image: json.image\n      });\n    } else {\n      window.alert('NftMarket contract not deployed to detected network');\n    }\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert('Non-Ethereum browser detected.');\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: {},\n      loading: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"col-md-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col p-4 d-flex flex-column position-static\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              class: \"d-inline-block mb-2 text-primary\",\n              children: \"World\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              class: \"mb-0\",\n              children: \"Featured post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"mb-1 text-muted\",\n              children: \"Nov 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"card-text mb-auto\",\n              children: \"This is a wider card with supporting text below as a natural lead-in to additional content.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              class: \"stretched-link\",\n              children: \"Continue reading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-auto d-none d-lg-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              class: \"bd-placeholder-img\",\n              width: \"200\",\n              height: \"250\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              role: \"img\",\n              \"aria-label\": \"Placeholder: Thumbnail\",\n              preserveAspectRatio: \"xMidYMid slice\",\n              focusable: \"false\",\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                children: \"Placeholder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 211\n              }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                width: \"100%\",\n                height: \"100%\",\n                fill: \"#55595c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 237\n              }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                x: \"50%\",\n                y: \"50%\",\n                fill: \"#eceeef\",\n                dy: \".3em\",\n                children: \"Thumbnail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 292\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"image\", {\n              src: this.state.image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default NftList;","map":{"version":3,"sources":["/Users/mauriziocapone/Desktop/NftMarketplace/nft-market-app/src/NftList.js"],"names":["React","Component","Web3","Collectible","NftList","componentWillMount","loadWeb3","loadBlockchainData","web3","window","networkId","eth","net","getId","erc721","networks","collectible","Contract","abi","address","URI","methods","tokenURI","call","response","fetch","ok","Error","statusText","json","setState","image","alert","ethereum","enable","currentProvider","constructor","props","state","loading","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Web3 from 'web3'\nimport Collectible from '../src/abis/Collectible.json'\n\nclass NftList extends Component {\n\n  async componentWillMount(){\n    await this.loadWeb3()\n    await this.loadBlockchainData()\n  }\n\n  async loadBlockchainData(){\n    const web3 = window.web3\n    const networkId = await web3.eth.net.getId()\n\n    // Load Collectible\n    const erc721 = Collectible.networks[networkId]\n\n    if(erc721){\n        const collectible = new web3.eth.Contract(Collectible.abi, erc721.address)\n        let URI = await collectible.methods.tokenURI(1).call()\n        const response = await fetch(URI);\n\n        if(!response.ok)\n        throw new Error(response.statusText);\n\n        const json = await response.json();\n        this.setState({image: json.image})\n\n      }else{\n        window.alert('NftMarket contract not deployed to detected network')\n      }\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected.')\n    }\n  }\n\n  constructor(props){\n    super(props)\n    this.state = {\n      image:{},\n      loading: true\n    }\n  }\n\n  render() {\n    return (\n        <div class=\"col-md-6\">\n          <div class=\"container\">\n            <div class=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\n            <div class=\"col p-4 d-flex flex-column position-static\">\n                <strong class=\"d-inline-block mb-2 text-primary\">World</strong>\n                <h3 class=\"mb-0\">Featured post</h3>\n                <div class=\"mb-1 text-muted\">Nov 12</div>\n                    <p class=\"card-text mb-auto\">This is a wider card with supporting text below as a natural lead-in to additional content.</p>\n                    <a href=\"#\" class=\"stretched-link\">Continue reading</a>\n            </div>\n            <div class=\"col-auto d-none d-lg-block\">\n                <svg class=\"bd-placeholder-img\" width=\"200\" height=\"250\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"Placeholder: Thumbnail\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>Placeholder</title><rect width=\"100%\" height=\"100%\" fill=\"#55595c\"></rect><text x=\"50%\" y=\"50%\" fill=\"#eceeef\" dy=\".3em\">Thumbnail</text></svg>\n                <image src={this.state.image}></image>\n            </div>\n            </div>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default NftList;"]},"metadata":{},"sourceType":"module"}