{"ast":null,"code":"var _jsxFileName = \"/Users/mauriziocapone/Desktop/NftMarketplace/nft-market-app/src/NftList.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport Collectible from '../src/abis/Collectible.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NftList extends Component {\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3;\n    const networkId = await web3.eth.net.getId(); // Load Collectible\n\n    const erc721 = Collectible.networks[networkId];\n\n    if (erc721) {\n      const collectible = new web3.eth.Contract(Collectible.abi, erc721.address);\n      let URI = await collectible.methods.tokenURI(1).call();\n      console.log(URI);\n      const response = await fetch(URI);\n      if (!response.ok) throw new Error(response.statusText);\n      const json = await response.json();\n      this.setState({\n        name: json.name\n      });\n      this.setState({\n        image: json.image\n      });\n      this.setState({\n        description: json.description\n      });\n    } else {\n      window.alert('NftMarket contract not deployed to detected network');\n    }\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert('Non-Ethereum browser detected.');\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      image: {},\n      description: '',\n      loading: true\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"col-md-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col p-4 d-flex flex-column position-static\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              class: \"d-inline-block mb-2 text-primary\",\n              children: \"Erc721\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              class: \"mb-0\",\n              children: this.state.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"mb-1 text-muted\",\n              children: \"Nov 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              class: \"card-text mb-auto\",\n              children: this.state.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              class: \"stretched-link\",\n              children: \"Continue reading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-auto d-none d-lg-block\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.image,\n              width: \"250\",\n              height: \"250\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default NftList;","map":{"version":3,"sources":["/Users/mauriziocapone/Desktop/NftMarketplace/nft-market-app/src/NftList.js"],"names":["React","Component","Web3","Collectible","NftList","componentWillMount","loadWeb3","loadBlockchainData","web3","window","networkId","eth","net","getId","erc721","networks","collectible","Contract","abi","address","URI","methods","tokenURI","call","console","log","response","fetch","ok","Error","statusText","json","setState","name","image","description","alert","ethereum","enable","currentProvider","constructor","props","state","loading","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Web3 from 'web3'\nimport Collectible from '../src/abis/Collectible.json'\n\nclass NftList extends Component {\n\n  async componentWillMount(){\n    await this.loadWeb3()\n    await this.loadBlockchainData()\n  }\n\n  async loadBlockchainData(){\n    const web3 = window.web3\n    const networkId = await web3.eth.net.getId()\n\n    // Load Collectible\n    const erc721 = Collectible.networks[networkId]\n\n    if(erc721){\n        const collectible = new web3.eth.Contract(Collectible.abi, erc721.address)\n        let URI = await collectible.methods.tokenURI(1).call()\n        console.log(URI)\n        const response = await fetch(URI);\n\n        if(!response.ok)\n        throw new Error(response.statusText);\n\n        const json = await response.json();\n        this.setState({name: json.name})\n        this.setState({image: json.image})\n        this.setState({description: json.description})\n\n      }else{\n        window.alert('NftMarket contract not deployed to detected network')\n      }\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected.')\n    }\n  }\n\n  constructor(props){\n    super(props)\n    this.state = {\n      image:{},\n      description:'',\n      loading: true\n    }\n  }\n\n  render() {\n    return (\n        <div class=\"col-md-6\">\n          <div class=\"container\">\n            <div class=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\n            <div class=\"col p-4 d-flex flex-column position-static\">\n                <strong class=\"d-inline-block mb-2 text-primary\">Erc721</strong>\n                <h3 class=\"mb-0\">{this.state.name}</h3>\n                <div class=\"mb-1 text-muted\">Nov 12</div>\n                    <p class=\"card-text mb-auto\">{this.state.description}</p>\n                    <a href=\"#\" class=\"stretched-link\">Continue reading</a>\n            </div>\n            <div class=\"col-auto d-none d-lg-block\">\n                <img src={this.state.image} width=\"250\" height=\"250\"></img>\n            </div>\n            </div>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default NftList;"]},"metadata":{},"sourceType":"module"}